<!-------------------------------------------------------------------------------------------------
 | View: PhoneLog
 | Author: Imran Esmail 
 | Description: This View contains all of the logic for the PhoneLog tab.
 ------------------------------------------------------------------------------------------------->
<div class="phoneLog">
	<!-- ko with: phoneLog -->
	<form class="form-inline">
		<!-- Row-Fluid PhoneLog -->
		<div class="row-fluid">
			<div class="alertHolder">
						<div class="alert alert-danger allAlert">You are missing required fields.</div>
						<div class="alert alert-danger dateAlert">Date is a required field .</div>
						<div class="alert alert-danger callerAlert">Caller is a required fields.</div>
						<div class="alert alert-danger attendedByAlert">Attended By is a required fields.</div>
						<div class="alert alert-danger actionRequiredAlert">Action Required is a required fields.</div>
						<div class="alert alert-danger typeAlert">Call Type is a required fields.</div>
						<div class="alert alert-success phoneLogAlert">Successfully updated.</div>
			</div>
			<fieldset>
				<legend>Edit phone log details</legend>
				<div class="marginBottom5">
					<!-- Call date -->
					<input type="text" class="input-small" placeholder="Call Date"
						data-bind="value:datetime, datepicker: true,enable: $root.role().phoneLog() > 1" />
					<!-- Call Type Drop Down -->
					<select class="input-medium" data-bind="value:type,enable: $root.role().phoneLog() > 1">
						<option value="">Call Type</option>
						<option value="Incoming">Incoming</option>
						<option value="Outgoing">Outgoing</option>
					</select>
				</div>
				<div class="marginBottom5">
					<!-- Caller -->
					<input type="text" class="input-medium" placeholder="Caller" data-bind="value: caller,enable: $root.role().phoneLog() > 1"/>
					<!-- Attended By -->
					<input type="text" class="input-medium" placeholder="Attended By" data-bind="value: attendedBy,enable: $root.role().phoneLog() > 1"/>
				</div>
				<div class="marginBottom5">
					<!-- Message -->
					<textarea class="input-xxlarge" rows="3" placeholder="Message" data-bind="value: message,enable: $root.role().phoneLog() > 1"></textarea>
				</div>
				<div class="marginBottom5">
					<!-- Action Required-->
					<span class="radio inline">Action Required</span>
					<label class="radio inline"> 
						<input type="radio" name="actionRequired"  data-bind="checked: actionRequired,enable: $root.role().phoneLog() > 1" value="Yes" /><span>Yes</span>
					</label>
					<label class="radio inline">
						<input type="radio" name="actionRequired" data-bind="checked:actionRequired,enable: $root.role().phoneLog() > 1" value="No" /><span>No</span>
					</label>  
					<!-- Assigned To Drop Down -->
					<select class="input-large" data-bind="options: $root.myArray,optionsCaption: 'Assigned to',value:assignedTo,visible:actionRequired()=='Yes',enable: $root.role().phoneLog() > 1">      
					</select>  
				</div>     
				<!-- Buttons -->
				<div class="marginBottom5 pull-right">
					<button type="button" id ="addButton" class="btn btn-small btn-success" data-bind="click:$root.phoneLogAdd,visible: $root.phoneLogState(),visible: $root.role().phoneLog() > 1">New</button>
					<button type="button" class="btn btn-small btn-primary" data-bind="click:$root.savePhoneLog,visible: !$root.phoneLogSave(),visible: $root.role().phoneLog() > 1">Save</button>
					<button type="button" id ="cancelButton" class="btn btn-small btn-danger" data-bind="click: $root.phoneLogCancel,visible: !$root.phoneLogState(),visibl;e: $root.role().phoneLog() > 1">Cancel</button>
				</div>
			</fieldset>
		</div><!-- End Row-Fluid PhoneLog -->
	</form>
	<!-- /ko -->
	</div><!--End PhoneLog -->
	<!-- Row-Fluid PhoneLog table -->
	<div class="row-fluid"> 
	<table class="table table-bordered table-hover">
		<thead>
			<tr>  
				<th>Call Date</th>
				<th>Call Type</th>
				<th>Caller</th>
				<th>Attended By</th>
				<th>Message</th>
			</tr>
		</thead>    
		<tbody data-bind="foreach: phoneLogs">     
				<tr data-bind="click: $root.setPhoneLogFields">   
					<td data-bind="text: datetime"></td>   
					<td data-bind="text: type"></td>
					<td data-bind="text: caller"></td>  
					<td data-bind="text:attendedBy"></td>
					<td data-bind="text: message"></td>						     
				</tr>          
		</tbody>
	</table>
</div><!-- End Row-Fluid PhoneLog Table -->