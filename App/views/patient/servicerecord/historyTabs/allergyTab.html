<form class="form-inline formPadding">
	<div class="row-fluid">
		<div class="alertHolder">
			<div class="alert alert-danger allergyAlert">You have are missing required fields.</div>
		</div>
		<div class="marginBottom5">
			<label class="checkbox allergiesCheckbox">
				<input type="checkbox" data-bind="
					checked: serviceRecord().noKnownAllergies,
					event: {change: $root.allergiesIntoleranceNoKnownAllergies}" />
				<span>No&nbsp;Known&nbsp;Allergies</span>
			</label>
			<label class="checkbox allergiesCheckbox">
				<input type="checkbox" data-bind="
					checked: serviceRecord().allergiesVerified,
					event: {change: $root.allergiesIntoleranceAllergiesVerified}" />
				<span>Allergies&nbsp;Verified</span>
			</label>
		</div>
		<div class="marginBottom5 commentContainer">
			<span class="required">*</span>
			<textarea class="commentSpan" rows="3" placeholder="Allergy Details" data-bind="
				value: allergiesIntolerance().details,
				enable: !serviceRecord().noKnownAllergies()" required />
			</textarea>
		</div>
		<div class="marginBottom5">
			<div class="allergyPushRight">
				<select class="input-xmedium" data-bind="
					value: allergiesIntolerance().type,
					enable: !serviceRecord().noKnownAllergies()" required>
					<option value="" disabled selected style="display:none;">Type</option>
					<option value="Allergy">Allergy</option>
					<option value="Intolerance">Intolerance</option>
				</select>
				<span class="required">*</span>
			</div>
			<div class="allergyPushRight">
				<select class="input-small" data-bind="
					value: allergiesIntolerance().status,
					enable: !serviceRecord().noKnownAllergies()" required>
					<option value="" disabled selected style="display:none;">Status</option>
					<option value="Active">Active</option>
					<option value="Inactive">Inactive</option>
				</select>
				<span class="required">*</span>
			</div>
			<div class="allergyPushRight">
				<span class="label label-info" data-bind="
					visible: !allergiesIntoleranceState() && allergiesIntolerances().length != 0">
					Date Recorded
				</span>
				<span data-bind="text: allergiesIntolerance().dateRecorded"></span>
			</div>
			<div class="allergyPushRight">
				<span class="label" data-bind="
					visible: allergiesIntolerance().status() == 'Inactive'">
					Inactive Date
				</span>
				<input type="text" class="input-xmedium" placeholder="Inactive Date" data-bind="
					value: allergiesIntolerance().dateInactive,
					visible: allergiesIntolerance().status() == 'Inactive',
					datepicker: true" />
			</div>
		</div>
		<div class="pull-right">
			<button type="button" class="btn btn-small btn-success" data-bind="
				click: $root.allergiesIntoleranceNew,
				visible: !$root.allergiesIntoleranceState()">
				New
			</button>
			<button type="submit" class="btn btn-small btn-primary" data-bind="
				click: $root.allergiesIntoleranceSave">
				Save
			</button>
			<button type="button" class="btn btn-small btn-warning" data-bind="
				click: $root.allergiesIntoleranceCancel,
				visible: $root.allergiesIntoleranceState()">
				Cancel
			</button>
		</div>
	</div>
</form>
<div class="allergyFormScroll">
	<div class="row-fluid">
		<table class="table table-bordered table-hover">
			<thead>
				<tr>
					<th>Type</th>
					<th>Details</th>
					<th>Status</th>
					<th>Date Recorded</th>
					<th></th>
				</tr>
			</thead>
			<tbody data-bind="foreach: allergiesIntolerances">
				<tr>
					<td data-bind="click: $root.allergiesIntoleranceSetFields, text: type"></td>
					<td data-bind="click: $root.allergiesIntoleranceSetFields, text: details"></td>
					<td data-bind="click: $root.allergiesIntoleranceSetFields, text: status"></td>
					<td data-bind="click: $root.allergiesIntoleranceSetFields, text: dateRecorded"></td>
					<td><a class="btn btn-small btn-danger" data-bind="click: $root.allergiesIntoleranceDelete">Delete</a></td>
				</tr>
			</tbody>
		</table>
	</div>
</div>